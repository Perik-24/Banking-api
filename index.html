<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<style>
  body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 20px;
      background: linear-gradient(135deg, #37447d 0%, #412161 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    }

    h1 {
      color: #333;
      text-align: center;
      margin-bottom: 10px;
      font-size: 2.5em;
    }

    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
      font-size: 1.1em;
    }

    .form-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin-bottom: 30px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    label {
      font-weight: 600;
      margin-bottom: 5px;
      color: #333;
      font-size: 0.9em;
    }

    input, select {
      padding: 10px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 1em;
      transition: border-color 0.3s;
    }

    input:focus, select:focus {
      outline: none;
      border-color: #667eea;
    }

    .button-container {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin: 30px 0;
    }

    button {
      padding: 15px 40px;
      font-size: 1.1em;
      font-weight: 600;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    .btn-svm {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      color: white;
    }

    .btn-dl {
      background: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%);
      color: white;
    }

    .btn-both {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }

    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .results-container {
      margin-top: 30px;
      display: none;
    }

    .result-card {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
      border-left: 5px solid #667eea;
    }

    .result-card h3 {
      margin-top: 0;
      color: #667eea;
    }

    .prediction-result {
      font-size: 1.3em;
      font-weight: 600;
      margin: 10px 0;
    }

    .positive {
      color: #38ef7d;
    }

    .negative {
      color: #fc466b;
    }

    .probability {
      font-size: 1.1em;
      color: #666;
    }

    .graficas-section {
      margin-top: 40px;
    }

    .graficas-section h2 {
      color: #667eea;
      border-bottom: 3px solid #667eea;
      padding-bottom: 10px;
      margin-bottom: 20px;
    }

    .graficas-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .grafica-card {
      background: white;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      text-align: center;
    }

    .grafica-card h4 {
      margin-top: 0;
      color: #333;
      font-size: 1em;
      margin-bottom: 10px;
    }

    .grafica-card img {
      width: 100%;
      border-radius: 8px;
      border: 1px solid #e0e0e0;
    }

    .loading {
      text-align: center;
      padding: 20px;
      font-size: 1.2em;
      color: #667eea;
    }

    .error {
      background: #ffe0e0;
      color: #d00;
      padding: 15px;
      border-radius: 8px;
      border-left: 5px solid #d00;
    }

    .model-badge {
      display: inline-block;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: 600;
      margin-left: 10px;
    }

    .badge-svm {
      background: #38ef7d;
      color: white;
    }

    .badge-dl {
      background: #3f5efb;
      color: white;
    }

    .badge-ensemble {
      background: #f5576c;
      color: white;
    }

    

/* CSS */
.btn-both {
  background-image: linear-gradient(92.88deg, #455EB5 9.16%, #5643CC 43.89%, #673FD7 64.72%);
  border-radius: 8px;
  border-style: none;
  box-sizing: border-box;
  color: #FFFFFF;
  cursor: pointer;
  flex-shrink: 0;
  font-family: "Inter UI","SF Pro Display",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;
  font-size: 16px;
  font-weight: 500;
  height: 4rem;
  padding: 0 1.6rem;
  text-align: center;
  text-shadow: rgba(0, 0, 0, 0.25) 0 3px 8px;
  transition: all .5s;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
}

.btn-both:hover {
  box-shadow: rgba(80, 63, 205, 0.5) 0 1px 30px;
  transition-duration: .1s;
}

@media (min-width: 768px) {
  .btn-both {
    padding: 0 2.6rem;
  }
}
</style>

<body>
  <div class="container">
    <h1>Banking API - Predicci칩n ML</h1>
    <p class="subtitle">Sistema de predicci칩n con SVM y Deep Learning</p>

    <form id="prediction-form" onsubmit="enviarYVerGraficas(event)">
      <div class="form-container">
        <div class="form-group">
          <label for="age">Edad:</label>
          <input type="number" id="age" value="35" required>
        </div>

        <div class="form-group">
          <label for="balance">Balance:</label>
          <input type="number" id="balance" value="1200" required>
        </div>

        <div class="form-group">
          <label for="duration">Duraci칩n del Contacto (seg):</label>
          <input type="number" id="duration" value="240" required>
        </div>

        <div class="form-group">
          <label for="campaign">Campa침a:</label>
          <input type="number" id="campaign" value="2" required>
        </div>

        <div class="form-group">
          <label for="job">Trabajo:</label>
          <input type="text" id="job" value="blue-collar" required>
        </div>

        <div class="form-group">
          <label for="marital">Estado Civil:</label>
          <select id="marital" required>
            <option value="single">Soltero</option>
            <option value="married" selected>Casado</option>
            <option value="divorced">Divorciado</option>
          </select>
        </div>

        <div class="form-group">
          <label for="education">Nivel Educativo:</label>
          <select id="education" required>
            <option value="primary">Primaria</option>
            <option value="secondary" selected>Secundaria</option>
            <option value="tertiary">Universitaria</option>
          </select>
        </div>

        <div class="form-group">
          <label for="pdays">D칤as de Pago:</label>
          <input type="number" id="pdays" value="-1" required>
        </div>

        <div class="form-group">
          <label for="loan">Pr칠stamo:</label>
          <select id="loan" required>
            <option value="yes">S칤</option>
            <option value="no" selected>No</option>
          </select>
        </div>

        <div class="form-group">
          <label for="month">Mes:</label>
          <input type="text" id="month" value="may" required>
        </div>

        <div class="form-group">
          <label for="poutcome">Resultado Previo:</label>
          <input type="text" id="poutcome" value="unknown" required>
        </div>

        <div class="form-group">
          <label for="housing">Vivienda:</label>
          <select id="housing" required>
            <option value="yes" selected>S칤</option>
            <option value="no">No</option>
          </select>
        </div>

        <div class="form-group">
          <label for="default">Incumplimiento:</label>
          <select id="default" required>
            <option value="yes">S칤</option>
            <option value="no" selected>No</option>
          </select>
        </div>

        <div class="form-group">
          <label for="previous">Contactos Previos:</label>
          <input type="number" id="previous" value="0" required>
        </div>

        <div class="form-group">
          <label for="contact">Tipo de Contacto:</label>
          <input type="text" id="contact" value="cellular" required>
        </div>

        <div class="form-group">
          <label for="day">D칤a:</label>
          <input type="number" id="day" value="5" required>
        </div>
      </div>

      <div class="button-container">
        <button type="button" class="btn-svm" onclick="predecirModelo('svm')">
          游릭 Predecir con SVM
        </button>
        <button type="button" class="btn-dl" onclick="predecirModelo('dl')">
          游댯 Predecir con Deep Learning
        </button>
        <button type="button" class="btn-both" onclick="predecirModelo('both')">
          游댮 Ver Ambos Modelos
        </button>
      </div>
    </form>
  <script>
    // URL BASE de tu API en Azure (SIN endpoints espec칤ficos)
    const API_BASE = 'https://banking-api-fvekgra5cxcuf3fd.mexicocentral-01.azurewebsites.net';

    function predecirModelo(tipoModelo) {
      // Leer los valores del formulario
      const data = {
        age: parseInt(document.getElementById('age').value),
        balance: parseInt(document.getElementById('balance').value),
        duration: parseInt(document.getElementById('duration').value),
        campaign: parseInt(document.getElementById('campaign').value),
        job: document.getElementById('job').value,
        marital: document.getElementById('marital').value,
        education: document.getElementById('education').value,
        pdays: parseInt(document.getElementById('pdays').value),
        loan: document.getElementById('loan').value,
        month: document.getElementById('month').value,
        poutcome: document.getElementById('poutcome').value,
        housing: document.getElementById('housing').value,
        default: document.getElementById('default').value,
        previous: parseInt(document.getElementById('previous').value),
        contact: document.getElementById('contact').value,
        day: parseInt(document.getElementById('day').value)
      };

      // Guardar datos, API base y tipo de modelo en localStorage
      localStorage.setItem('banking_input', JSON.stringify(data));
      localStorage.setItem('api_base', API_BASE);
      localStorage.setItem('tipo_modelo', tipoModelo); // 'svm', 'dl', o 'both'

      // Redirigir a la p치gina de resultados
      window.location.href = 'Graficas.html';
    }
  </script>
</body>

</html>